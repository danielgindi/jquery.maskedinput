/*!
 * jquery.maskedinput 1.0.1
 * git://github.com/danielgindi/jquery.maskedinput.git
 */

!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.MaskedInput=b(a.jQuery)}(this,function(a){"use strict";function b(){return this instanceof b?void this.initialize.apply(this,arguments):new(Function.prototype.bind.apply(b,[b].concat(Array.prototype.slice.call(arguments,0))))}var c={NUMBER:"number",TEXT:"text",LABEL:"label"},d={patterns:{}};const e=function(a,b,c,d){var e,f=0;for(a.lastIndex=0;e=a.exec(b);)e.index>f&&d(b.substring(f,e.index)),c(e),f=a.lastIndex;b.length>f&&d(b.substring(f,b.length))},f=function(a){var b,c,d="none";if(a.setSelectionRange)b=a.selectionStart,c=a.selectionEnd,d=a.selectionDirection;else if(document.selection&&document.selection.createRange){var e=document.selection.createRange();b=0-e.duplicate().moveStart("character",-1e4),c=b+e.text.length}return{begin:b,end:c,direction:d}},g=function(a,b,c,d){if("object"==typeof arguments[1]&&"begin"in arguments[1]&&(b=arguments[1].begin,c=arguments[1].end,d=arguments[1].direction),void 0===d&&("string"!=typeof arguments[2]||"forward"!==arguments[2]&&"backward"!==arguments[2]&&"none"!==arguments[2]||(d=arguments[2],c=null)),c=null==c?b:c,a.setSelectionRange)a.setSelectionRange(b,c,d);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0),e.moveEnd("character",c),e.moveStart("character",b),e.select()}},h=function(a,b){for(var c="",d=0;d<b;d++)c+=a;return c},i=function(a,b,c,d,e){var f,g,h,i=e?b:b.toLowerCase();if(c){var j,k,l=0;for(f=0;f<a.length;f++){g=a[f],h=e?g:g.toLowerCase();for(var m=Math.min(g.length,1);m<=b.length&&(g.length>=m&&h.substr(0,m)===i.substr(0,m));m++)m>l&&(l=m,j=g.substr(0,m),k=g)}return d?k:j}for(f=0;f<a.length;f++)if(g=a[f],h=e?g:g.toLowerCase(),g.length>=b.length&&h.substr(0,b.length)===i)return!d||g},j=function(a){return a.replace(/[\-\[\]\/{}()*+?.\\\^$|]/g,"\\$&")},k=function(a,b,c){return"function"==typeof a?a.apply(b,Array.prototype.slice.call(arguments,2)):a};var l=["font-family","font-size","font-weight","font-size","letter-spacing","text-transform","word-spacing","text-indent","box-sizing","padding-left","padding-right"],m=document.defaultView&&document.defaultView.getComputedStyle,n=function(a){var b=m?document.defaultView.getComputedStyle(a):a.currentStyle,c=parseFloat(b.width)||0;return"border-box"===b.boxSizing&&(c-=parseFloat(b.paddingLeft)||0,c-=parseFloat(b.paddingRight)||0,c-=parseFloat(b.borderLeftWidth)||0,c-=parseFloat(b.borderRightWidth)||0,c<0&&(c=0)),c};const o=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"],p=(o.join(","),o.map(function(a){return a+":not([tabindex=-1])"}).join(",")),q=13,r=38,s=40,t=37,u=39;b.prototype.initialize=function(c){var d=this,e=d.o=a.extend({},b.defaults,c),f={};a.each(b.patternAddons,function(){f=a.extend(f,this)}),f=a.extend(f,e.patterns),e.patterns=f;var g=d.p={};g.inputs=[];var h=d.$el=a("<div>").addClass(e.className||"masked-input");return d.el=d.$el[0],h.data("control",d).data("maskedinput",d),g.parsed=d._parseFormat(e.format),g.$inputBackBuffer=a('<span aria-hidden="true" style="position:absolute;z-index:-1;left:0;top:-9999px;white-space:pre;"/>'),d.render(),setTimeout(function(){d.el&&d.el.parentNode&&d.resize()},0),d};var v=new RegExp("(0+(?::[a-zA-Z0-9_]+)?)|(#+(?::[a-zA-Z0-9_]+)?)|((?:@+|\\*)(?::[a-zA-Z0-9_]+)?)|(\"[^\"]*\"|'[^']*')","g");return b.prototype._parseFormat=function(b){var d=this,f=d.o,g=[];return e(v,b,function(a){var b,d,e=a[1]||a[2],f=a[3],h=a[4];if(e)d={type:c.NUMBER},b=e.indexOf(":"),b>-1?(d.length=b,d.name=e.substr(b+1)):d.length=e.length,a[2]&&(d.maxLength=d.length,d.length=0),g.push(d);else if(f)d={type:c.TEXT},"*"===f[0]?d.length=0:(b=f.indexOf(":"),b>-1?(d.length=b,d.name=f.substr(b+1)):d.length=f.length),g.push(d);else if(h){var i=h.substr(1,h.length-2);d={type:c.LABEL,text:i,length:i.length},g.push(d)}},function(b){var h=[],i={type:c.LABEL,text:b,length:b.length};h.push(i),a.each(f.patterns,function(a,b){for(var f=new RegExp(b.pattern instanceof RegExp?b.pattern.source:b.pattern,b.pattern instanceof RegExp?b.pattern.flags+(b.pattern.flags.indexOf("g")>-1?"":"g"):"g"),g=0;g<h.length;g++){var i=h[g];if(i.type===c.LABEL){var j=[];e(f,i.text,function(a){var c;if(b.validator instanceof RegExp||"function"==typeof b.validator)c=b.validator;else if("string"==typeof b.validator)try{c=new RegExp(b.validator)}catch(a){}var e={type:k(b.type,d,a[0]),name:k(b.name,d,a[0]),ariaLabel:k(b.ariaLabel,d,a[0]),text:k(b.text,d,a[0]),placeholder:k(b.placeholder,d,a[0]),length:k(b.length,d,a[0])||0,maxLength:k(b.maxLength,d,a[0])||0,numericMin:k(b.numericMin,d,a[0]),numericMax:k(b.numericMax,d,a[0]),wholeNumber:k(b.wholeNumber,d,a[0]),validator:c,options:k(b.options,d,a[0]),postProcess:b.postProcess,padding:k(b.padding,d,a[0]),required:k(b.required,d,a[0]),defaultValue:k(b.defaultValue,d,a[0]),forcePlaceholderWidth:k(b.forcePlaceholderWidth,d,a[0])};j.push(e)},function(a){var b={type:c.LABEL,text:a,length:a.length};j.push(b)}),Array.prototype.splice.apply(h,[g,1].concat(j)),g+=j.length-1}}}),g=g.concat(h)}),g},b.prototype.render=function(){var b=this,d=(b.o,b.p);b.$el.empty();var e=[];return a.each(d.parsed,function(){var a=this;if(a.type===c.LABEL){var d=b._renderText(a).appendTo(b.$el);return a.$el=d,void(a.el=d[0])}var f=b._renderInput(a).appendTo(b.$el);a.$el=f,a.el=f[0],e.push(f),a.name&&parseInt(a.name,10).toString()!=a.name&&(e.hasOwnProperty(a.name)?e[a.name]=e[a.name]instanceof HTMLElement?[e[a.name],a.el]:e[a.name].concat([a.el]):e[a.name]=a.el)}),d.inputs=e,b.resize(),b},b.prototype._renderInput=function(b,c){var d,e=this,f=(e.o,e.p,!c);if(f?(d=a("<input>").data("part",b),c=d[0]):d=a(c),b.name?c.setAttribute("data-name",b.name):c.removeAttribute("data-name"),b.ariaLabel?c.setAttribute("aria-label",b.ariaLabel):c.removeAttribute("aria-label"),b.length||b.maxLength||"string"==typeof b.placeholder){var g="string"==typeof b.placeholder?b.placeholder:void 0===b.placeholder||b.placeholder?h("_",b.length||b.maxLength):"";c.placeholder=g}return f&&d.on("input.maskedinput",function(a){e._handleInput(a,c,b),e._syncInputSizeForPart(b)}).on("keydown.maskedinput",function(a){e._handleKeydown(a,c,b)}).on("keypress.maskedinput",function(a){e._handleKeypress(a,c,b)}),d},b.prototype._renderText=function(b){return a('<span style="white-space: pre">').text(b.text)},b.prototype._syncInputSize=function(b,c,d){var e=this,f=(e.o,e.p);void 0===c&&(c=!0),void 0===d&&(d="A");var g=a(b),h=f.$inputBackBuffer,i=g[0];d=null==d?"":d+"";var j=i.value||i.placeholder||d;h.css(g.css(l)).text(j).appendTo(e.$el);var k=n(h[0])+1,m=n(i);return c&&i.value&&i.placeholder&&i.placeholder!=i.value&&(h.text(i.placeholder),k=Math.max(k,n(h[0])+1)),k!=m&&g.css("width",k+"px"),g[0].scrollWidth>k&&g.css("width",i.scrollWidth),h.remove(),e},b.prototype._syncInputSizeForPart=function(a){return a.el&&a.type!==c.LABEL?this._syncInputSize(a.el,void 0===a.forcePlaceholderWidth||!!a.forcePlaceholderWidth):this},b.prototype._handleInput=function(b,c,d){var e,g=this,h=(g.o,g.p,c.value);return e=g._validateContent(h,d),e===!1?(b.preventDefault(),g.$el.trigger("change"),g):("string"==typeof e&&h!==e&&(c.value=e),g._syncInputSizeForPart(d),g._shouldMoveToNextFieldAfterInput(f(c),c.value,d)&&a(c).nextAll(p).first().focus(),g.$el.trigger("change"),g)},b.prototype._handleKeydown=function(b,d,e){var g=this;g.o,g.p;if(d.readOnly)return g;var j,k=b.which,l=!1,m=d.value;if(k===r||k===s){var n,o=!1,q=e.maxLength?Math.max(1,Math.min(e.length||0,e.maxLength||1)):e.length||1,v=Math.max(e.length||0,e.maxLength||0);if(e.type===c.TEXT&&e.options){var w=i(e.options,m,!0,!0,!1),x=e.options.indexOf(w);x===-1?x=k===r?0:e.options.length-1:x+=k===s?1:-1,x===e.options.length?x=0:x===-1&&(x=e.options.length-1),n=e.options[x],o=!0}else e.type===c.NUMBER&&(!m&&k===s&&e.wholeNumber&&("number"==typeof e.numericMax||v>0)&&"number"==typeof e.numericMin&&e.numericMin>=0?n="number"==typeof e.numericMax?e.numericMax:parseInt(h("9",v),10):!m&&k===r&&e.wholeNumber&&"number"==typeof e.numericMin?n=0==e.numericMin?1:e.numericMin:(n=parseFloat(m)||0,n+=k===r?1:-1),e.wholeNumber&&(n=Math.round(n)),"number"!=typeof e.numericMin&&"number"!=typeof e.numericMax||(n=Math.max(Math.min(n,"number"==typeof e.numericMax?e.numericMax:1/0),"number"==typeof e.numericMin?e.numericMin:-(1/0))),n+="","number"==typeof e.numericMin&&e.numericMin>=0&&(n=h("0",q-n.length)+n),o=!0);o&&n!=m&&(j=g._validateContent(n,e),j===!0&&(j=n),j!==!1&&(d.value=j,g._syncInputSizeForPart(e),b.preventDefault(),l=!0))}if(l&&g.$el.trigger("change"),k===t||k===u){var y="rtl"===a(d).css("direction");!y&&k===t||y&&k===u?0===f(d).begin&&a(d).prevAll(p).first().focus():f(d).begin===d.value.length&&a(d).nextAll(p).first().focus()}return g},b.prototype._handleKeypress=function(b,d,e){var h=this;h.o,h.p;if(d.readOnly)return h;var j=b.which,k=f(d);if(b.ctrlKey||b.altKey||b.metaKey||!j||j<32||j===q)return h;b.preventDefault();var l=!1,m=!1,n=b.key||String.fromCharCode(j),o=d.value,r=o.substr(0,k.begin)+n+o.substr(k.end),s=h._validateContent(r,e);if(s===!1)return h;if("string"==typeof s&&(r=s),r!==o||r.substr(k.begin,1)===n){var t={};if(k.end-k.begin>0&&"backward"===k.direction?t.begin=t.end=k.begin:t.begin=t.end=k.begin+1,e.type===c.TEXT&&e.options){var u=i(e.options,r,!1,!0,!1);void 0!==u&&u.length!=r.length&&(t.begin=r.length,t.end=u.length,r=u)}d.value=r,g(d,t),m=h._shouldMoveToNextFieldAfterInput(t,r,e),l=!0}else"/"!==n&&":"!==n&&"-"!==n&&"("!==n&&")"!==n&&"."!==n||(m=!0);return h._syncInputSizeForPart(e),l&&h.$el.trigger("change"),m&&a(d).nextAll(p).first().focus(),h},b.prototype._shouldMoveToNextFieldAfterInput=function(a,b,d){return a.begin===b.length&&(d.type===c.TEXT?i(d.options,b,!1,!0,!1)===b:(d.length||d.maxLength||0)>0&&b.length===(d.length||d.maxLength))},b.prototype._validateContent=function(a,b){if(b.validator){if(b.validator instanceof RegExp)return b.validator.test(a);var d=b.validator.call(this,a,b);return null==d&&(d=!1),d}var e=Math.max(b.length||0,b.maxLength||0);if(b.type===c.NUMBER){if(a=b.wholeNumber?a.replace(/[^-0-9]/g,""):a.replace(/[^-0-9.]/g,""),a=a.replace(/^.+-/g,"-").replace(/\..*\./g,"."),e>0&&a.length>e&&(a=a.substr(0,e)),"number"==typeof b.numericMin||"number"==typeof b.numericMax){var f=parseFloat(a);isNaN(f)||(f=Math.max(Math.min(f,"number"==typeof b.numericMax?b.numericMax:1/0),"number"==typeof b.numericMin?b.numericMin:-(1/0)),f!==parseFloat(a)&&(a=f+""))}return!!a&&a}if(b.type===c.TEXT){if(b.options){var g=i(b.options,a,!0,!1,!1);return void 0!==g&&g}return 0===e||a.length<=e}return!1},b.prototype.resize=function(){var b=this,c=(b.o,b.p);return a.each(c.parsed||[],function(){b._syncInputSizeForPart(this)}),b},b.prototype.field=function(b){var c=this,d=(c.o,c.p),e=d.inputs[b];if(e)return a.isArray(e)?e.slice(0):e},b.prototype._valuePattern=function(){var b=this,d=(b.o,b.p),e="";return a.each(d.parsed,function(){var a=this,b="",d=a.maxLength?Math.max(1,Math.min(a.length||0,a.maxLength||1)):a.length||1,f=Math.max(a.length||0,a.maxLength||0);if(a.type===c.TEXT)if(a.options)for(var g=0;g<a.options.length;g++)g>0&&(b+="|"),b+=j(a.options[g]);else b+=f?".{0,"+f+"}":".*?";else a.type===c.NUMBER?a.wholeNumber?a.length>0?(b+="[-+][0-9]{"+(d-1)+","+(f-1)+"}",b+="|[0-9]{"+d+","+f+"}"):b+="[-+]?[0-9]+":f?(b+="[-+][0-9.]{"+(d-1)+","+(f-1)+"}",b+="|[0-9.]{"+d+","+f+"}"):b+="[-+]?(?:[0-9]+(?:.[0-9]+)?|.[0-9]+)":b+=j(null==a.text?"":a.text+"");e+="("+b+")",void 0===a.required||a.required||(e+="?")}),"^"+e+"$"},b.prototype._fieldValue=function(b,d){var e=this,f=(e.o,e.p,a(b));if(f.length){b=f[0];var g,h=f.data("part");if(void 0===d){var j=b.value;if(h.type===c.TEXT&&h.options)return i(h.options,j,!0,!0,!1);var k=Math.max(h.length||0,h.maxLength||0);if(k>0&&j.length>k&&(j=j.substr(0,k)),g=e._validateContent(j,h),g===!1)return;g!==!0&&(j=g+"")}else d=null==d?"":d+"",g=e._validateContent(d,h),g===!1?g="":g===!0&&(g=d),b.value=g,e._syncInputSizeForPart(h);return j}},b.prototype.fieldValue=function(a,b){var c=this,d=(c.o,c.p),e=d.inputs[a];if(e)return void 0===b?c._fieldValue(e):(c._fieldValue(e,b),c)},b.prototype.option=function(c,d){var e=this,f=e.o;return 2!==arguments.length?f[c]:void("patterns"===c?(f[c]={},a.each(b.patternAddons,function(){f[c]=a.extend(f[c],this)}),f[c]=a.extend(f[c],d)):f[c]=d)},b.prototype._fieldOption=function(b,c,d){var e=this,f=(e.o,e.p);if(!b)return 3===arguments.length?e:void 0;if(3!==arguments.length&&"object"!=typeof c){if(a.isArray(c)){var g={};return a.each(c,function(){g[this]=b[this]}),g}return b[c]}return"object"==typeof c?(a.each(c,function(a,c){e._fieldOption(b,a,c)}),e):("name"===c&&b.name!=d&&(parseInt(b.name,10).toString()!=b.name&&f.inputs[b.name]&&(f.inputs[b.name]instanceof HTMLElement?delete f.inputs[b.name]:(f.inputs[b.name].splice(f.inputs[b.name].indexOf(b),1),1===f.inputs[b.name].length&&(f.inputs[b.name]=f.inputs[b.name][0]))),d&&parseInt(d,10).toString()!=d&&(f.inputs[d]&&f.inputs[d]instanceof HTMLElement?f.inputs[d]=[f.inputs[d],b]:f.inputs[d]=b)),"el"!==c&&"$el"!==c&&(b[c]=d),!b.el||"length"!==c&&"name"!==c&&"ariaLabel"!==c&&"placeholder"!==c||e._renderInput(b,b.el),e)},b.prototype.fieldOption=function(b,c,d){var e=this,f=(e.o,e.p),g=f.inputs[b];return g?g.length>1?3===arguments.length||"object"==typeof c?(a.each(g,function(){e._fieldOption(a(this).data("part"),c,d)}),delete f.valueRegex,e):a.map(g,function(){return e._fieldOption(a(this).data("part"),c)}):3===arguments.length?(e._fieldOption(a(g).data("part"),c,d),delete f.valueRegex,e):e._fieldOption(a(g).data("part"),c):e},b.prototype.value=function(a){var b,d,e,f=this,g=(f.o,f.p);if(void 0===a){var i="";for(b=0;b<g.parsed.length;b++)if(d=g.parsed[b],d.type===c.TEXT){if(e=f._fieldValue(d.el),d.postProcess&&(e=d.postProcess.call(f,e,d)+""),void 0===e){if(void 0===d.required||d.required)return;e=d.defaultValue||""}i+=void 0===e?"":e}else if(d.type===c.NUMBER){if(e=f._fieldValue(d.el),void 0===e){if(void 0===d.required||d.required)return;e=d.defaultValue||""}if(d.postProcess)if(e=d.postProcess.call(f,e,d),void 0===e){if(void 0===d.required||d.required)return;e=d.defaultValue||""}else e+="";var j=d.maxLength?Math.max(0,Math.min(d.length||0,d.maxLength||0)):d.length||0;Math.max(d.length||0,d.maxLength||0);if(d.padding||void 0===d.padding){var k="number"==typeof d.padding?d.padding||j:j;if(k>0&&e.length<k){for(var l=0;l<e.length;l++)if(/[0-9.]/.test(e[l])){e=e.substr(0,l)+h("0",k-e.length)+e.substr(l);break}e.length<k&&(e=h("0",k-e.length)+e)}}i+=void 0===e?"":e}else i+=d.text;return i}g.valueRegex||(g.valueRegex=new RegExp(f._valuePattern(),"i"));var m=a.match(g.valueRegex)||[];for(l=1,b=0;l<m.length&&b<g.parsed.length;l++,b++)d=g.parsed[b],e=m[l]||"",d.type!==c.LABEL&&f._fieldValue(d.el,e);return f},b.prototype.val=b.prototype.value,b.PartType=c,b.patternAddons=[],b.defaults=d,b});