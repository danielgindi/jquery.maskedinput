/*!
 * maskedinput.js 1.0.8
 * git://github.com/danielgindi/jquery.maskedinput.git
 */

!function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)module.exports=t(require("jquery"));else{var n={exports:{}};n.exports=t(e.jQuery),e.MaskedInput=n.exports}}(this,function(e){"use strict";var t;function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=(t=e)&&t.__esModule?t:{default:t};var r={NUMBER:"number",TEXT:"text",LABEL:"label"},a=function(e,t,n,i){var r,a=0;for(e.lastIndex=0;r=e.exec(t);)r.index>a&&i(t.substring(a,r.index)),n(r),a=e.lastIndex;t.length>a&&i(t.substring(a,t.length))},l=function(e){var t,n,i="none";if(e.setSelectionRange)t=e.selectionStart,n=e.selectionEnd,i=e.selectionDirection;else if(document.selection&&document.selection.createRange){var r=document.selection.createRange();n=(t=0-r.duplicate().moveStart("character",-1e4))+r.text.length}return{begin:t,end:n,direction:i}},o=function(e,t){for(var n="",i=0;i<t;i++)n+=e;return n},u=function(e,t,n,i,r){var a,l,o,u=r?t:t.toLowerCase();if(n){var s,h,f=0;for(a=0;a<e.length;a++){l=e[a],o=r?l:l.toLowerCase();for(var d=Math.min(l.length,1);d<=t.length&&(l.length>=d&&o.substr(0,d)===u.substr(0,d));d++)d>f&&(f=d,s=l.substr(0,d),h=l)}return i?h:s}for(a=0;a<e.length;a++)if(l=e[a],o=r?l:l.toLowerCase(),l.length>=t.length&&o.substr(0,t.length)===u)return!i||l},s=function(e){return e.replace(/[\-\[\]\/{}()*+?.\\\^$|]/g,"\\$&")},h=function(t,n){for(var i=n.left,r=n.top,a=null,l=null,o=0;o<t.length;o++){var u=t[o],s=(0,e.default)(u),h=s.offset();if(h.right=h.left+s.outerWidth(),h.bottom=h.top+s.outerHeight(),i>=h.left&&i<=h.right&&r>=h.top&&r<=h.bottom)return u;for(var f=[[h.left,h.top],[h.right,h.top],[h.left,h.bottom],[h.right,h.bottom]],d=0;d<4;d++){var p=f[d],c=p[0]-i,g=p[1]-r,v=Math.sqrt(c*c+g*g);(null==l||v<l)&&(l=v,a=u)}}return a},f=function(e,t,n){return"function"==typeof e?e.apply(t,Array.prototype.slice.call(arguments,2)):e},d=["font-family","font-size","font-weight","font-size","letter-spacing","text-transform","word-spacing","text-indent","box-sizing","padding-left","padding-right"],p=document.defaultView&&document.defaultView.getComputedStyle,c=function(e){var t=p?document.defaultView.getComputedStyle(e):e.currentStyle,n=parseFloat(t.width)||0;return"border-box"===t.boxSizing&&(n-=parseFloat(t.paddingLeft)||0,n-=parseFloat(t.paddingRight)||0,n-=parseFloat(t.borderLeftWidth)||0,(n-=parseFloat(t.borderRightWidth)||0)<0&&(n=0)),n},g=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"],v=g.join(","),m=g.map(function(e){return e+":not([tabindex=-1])"}).join(","),y=function(){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=this.o=e.default.extend({},t.defaults,n),a={};t.patternAddons.forEach(function(t){a=e.default.extend(a,t)}),a=e.default.extend(a,r.patterns),r.patterns=a;var l=this.p={};l.enabled=!0,l.inputs=[];var o=this.$el=(0,e.default)("<div>").addClass(r.className||"masked-input");return this.el=this.$el[0],o.data("control",this).data("maskedinput",this),l.parsed=this._parseFormat(r.format),l.$inputBackBuffer=(0,e.default)('<span aria-hidden="true" style="position:absolute;z-index:-1;left:0;top:-9999px;white-space:pre;"/>'),o.on("click",function(t){if(t.target===t.currentTarget||!(0,e.default)(t.target).is(v)){var n=(0,e.default)(t.currentTarget).offset();n.left+=t.offsetX,n.top+=t.offsetY;var i=h(o.children(v),n);i&&i.focus()}}),this.render(),setTimeout(function(){i.el&&i.el.parentNode&&i.resize()},0),this}var p,g,y;return p=t,(g=[{key:"_parseFormat",value:function(e){var t=this.o,n=[];return a(b,e,function(e){var t,i,a=e[1]||e[2],l=e[3],o=e[4];if(a)i={type:r.NUMBER},(t=a.indexOf(":"))>-1?(i.length=t,i.name=a.substr(t+1)):i.length=a.length,e[2]&&(i.maxLength=i.length,i.length=0),n.push(i);else if(l)i={type:r.TEXT},"*"===l[0]?i.length=0:(t=l.indexOf(":"))>-1?(i.length=t,i.name=l.substr(t+1)):i.length=l.length,n.push(i);else if(o){var u=o.substr(1,o.length-2);i={type:r.LABEL,text:u,length:u.length},n.push(i)}}.bind(this),function(e){var i=this,l=[],o={type:r.LABEL,text:e,length:e.length};l.push(o),Object.keys(t.patterns).forEach(function(e){for(var n=t.patterns[e],o=new RegExp(n.pattern instanceof RegExp?n.pattern.source:n.pattern,n.pattern instanceof RegExp?n.pattern.flags+(n.pattern.flags.indexOf("g")>-1?"":"g"):"g"),u=function(e){var t=l[e];if(t.type!==r.LABEL)return s=e,"continue";var u=[];a(o,t.text,function(e){var t;if(n.validator instanceof RegExp||"function"==typeof n.validator)t=n.validator;else if("string"==typeof n.validator)try{t=new RegExp(n.validator)}catch(e){}var i={type:f(n.type,this,e[0]),name:f(n.name,this,e[0]),ariaLabel:f(n.ariaLabel,this,e[0]),text:f(n.text,this,e[0]),placeholder:f(n.placeholder,this,e[0]),length:f(n.length,this,e[0])||0,maxLength:f(n.maxLength,this,e[0])||0,numericMin:f(n.numericMin,this,e[0]),numericMax:f(n.numericMax,this,e[0]),wholeNumber:f(n.wholeNumber,this,e[0]),validator:t,options:f(n.options,this,e[0]),postProcess:n.postProcess,padding:f(n.padding,this,e[0]),required:f(n.required,this,e[0]),defaultValue:f(n.defaultValue,this,e[0]),forcePlaceholderWidth:f(n.forcePlaceholderWidth,this,e[0])};u.push(i)}.bind(i),function(e){var t={type:r.LABEL,text:e,length:e.length};u.push(t)}.bind(i)),Array.prototype.splice.apply(l,[e,1].concat(u)),e+=u.length-1,s=e},s=0;s<l.length;s++)u(s)}),n=n.concat(l)}.bind(this)),n}},{key:"render",value:function(){var e=this,t=this.p;this.$el.empty();var n=[];return t.parsed.forEach(function(t){if(t.type===r.LABEL){var i=e._renderText(t).appendTo(e.$el);return t.$el=i,void(t.el=i[0])}var a=e._renderInput(t).appendTo(e.$el);t.$el=a,t.el=a[0],n.push(a),t.name&&parseInt(t.name,10).toString()!==t.name&&(n[t.name]=(n[t.name]||[]).concat(t.el))}),t.inputs=n,this.resize(),this}},{key:"_renderInput",value:function(t,n){var i,r=this,a=this.p,l=!n;if(l?(i=(0,e.default)("<input>").data("part",t).prop("disabled",!a.enabled),n=i[0]):i=(0,e.default)(n),t.name?n.setAttribute("data-name",t.name):n.removeAttribute("data-name"),t.ariaLabel?n.setAttribute("aria-label",t.ariaLabel):n.removeAttribute("aria-label"),t.length||t.maxLength||"string"==typeof t.placeholder){var u="string"==typeof t.placeholder?t.placeholder:void 0===t.placeholder||t.placeholder?o("_",t.length||t.maxLength):"";n.placeholder=u}return l&&i.on("input.maskedinput",function(e){r._handleInput(e,n,t),r._syncInputSizeForPart(t)}).on("keydown.maskedinput",function(e){r._handleKeydown(e,n,t)}).on("keypress.maskedinput",function(e){r._handleKeypress(e,n,t)}),i}},{key:"_renderText",value:function(t){return(0,e.default)('<span style="white-space: pre">').text(t.text)}},{key:"_syncInputSize",value:function(t,n,i){var r=this.p;void 0===n&&(n=!0),void 0===i&&(i="A");var a=(0,e.default)(t),l=r.$inputBackBuffer,o=a[0];i=null==i?"":i+"";var u=o.value||o.placeholder||i;l.css(a.css(d)).text(u).appendTo(this.$el);var s=c(l[0])+1,h=c(o);return n&&o.value&&o.placeholder&&o.placeholder!==o.value&&(l.text(o.placeholder),s=Math.max(s,c(l[0])+1)),s!==h&&a.css("width",s+"px"),a[0].scrollWidth>s&&a.css("width",o.scrollWidth),l.remove(),this}},{key:"_syncInputSizeForPart",value:function(e){return e.el&&e.type!==r.LABEL?this._syncInputSize(e.el,void 0===e.forcePlaceholderWidth||!!e.forcePlaceholderWidth):this}},{key:"_handleInput",value:function(t,n,i){var r,a=n.value;return!1===(r=this._validateContent(a,i))?(t.preventDefault(),this.$el.trigger("change"),this):("string"==typeof r&&a!==r&&(n.value=r),this._syncInputSizeForPart(i),this._shouldMoveToNextFieldAfterInput(l(n),n.value,i)&&(0,e.default)(n).nextAll(m).first().focus(),this.$el.trigger("change"),this)}},{key:"_handleKeydown",value:function(t,n,i){if(n.readOnly)return this;var a,s=t.which,h=!1,f=n.value;if(38===s||40===s){var d,p=!1,c=i.maxLength?Math.max(1,Math.min(i.length||0,i.maxLength||1)):i.length||1,g=Math.max(i.length||0,i.maxLength||0);if(i.type===r.TEXT&&i.options){var v=u(i.options,f,!0,!0,!1),y=i.options.indexOf(v);-1===y?y=38===s?0:i.options.length-1:y+=40===s?1:-1,y===i.options.length?y=0:-1===y&&(y=i.options.length-1),d=i.options[y],p=!0}else i.type===r.NUMBER&&(!f&&40===s&&i.wholeNumber&&("number"==typeof i.numericMax||g>0)&&"number"==typeof i.numericMin&&i.numericMin>=0?d="number"==typeof i.numericMax?i.numericMax:parseInt(o("9",g),10):!f&&38===s&&i.wholeNumber&&"number"==typeof i.numericMin?d=0===i.numericMin?1:i.numericMin:(d=parseFloat(f)||0,d+=38===s?1:-1),i.wholeNumber&&(d=Math.round(d)),"number"!=typeof i.numericMin&&"number"!=typeof i.numericMax||(d=Math.max(Math.min(d,"number"==typeof i.numericMax?i.numericMax:1/0),"number"==typeof i.numericMin?i.numericMin:-1/0)),d+="","number"==typeof i.numericMin&&i.numericMin>=0&&(d=o("0",c-d.length)+d),p=!0);p&&d!==f&&(!0===(a=this._validateContent(d,i))&&(a=d),!1!==a&&(n.value=a,this._syncInputSizeForPart(i),t.preventDefault(),h=!0))}if(h&&this.$el.trigger("change"),37===s||39===s){var b="rtl"===(0,e.default)(n).css("direction");!b&&37===s||b&&39===s?0===l(n).begin&&(0,e.default)(n).prevAll(m).first().focus():l(n).begin===n.value.length&&(0,e.default)(n).nextAll(m).first().focus()}return this}},{key:"_handleKeypress",value:function(t,n,a){if(n.readOnly)return this;var o=t.which,s=l(n);if(t.ctrlKey||t.altKey||t.metaKey||!o||o<32||13===o)return this;t.preventDefault();var h=!1,f=!1,d=t.key||String.fromCharCode(o),p=n.value,c=p.substr(0,s.begin)+d+p.substr(s.end),g=this._validateContent(c,a);if(!1===g)return this;if("string"==typeof g&&(c=g),c!==p||c.substr(s.begin,1)===d){var v={};if(s.end-s.begin>0&&"backward"===s.direction?v.begin=v.end=s.begin:v.begin=v.end=s.begin+1,a.type===r.TEXT&&a.options){var y=u(a.options,c,!1,!0,!1);void 0!==y&&y.length!==c.length&&(v.begin=c.length,v.end=y.length,c=y)}n.value=c,function(e,t,n,r){if("object"===i(arguments[1])&&"begin"in arguments[1]&&(t=arguments[1].begin,n=arguments[1].end,r=arguments[1].direction),void 0===r&&("string"!=typeof arguments[2]||"forward"!==arguments[2]&&"backward"!==arguments[2]&&"none"!==arguments[2]||(r=arguments[2],n=null)),n=null==n?t:n,e.setSelectionRange)e.setSelectionRange(t,n,r);else if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a.select()}}(n,v),f=this._shouldMoveToNextFieldAfterInput(v,c,a),h=!0}else"/"!==d&&":"!==d&&"-"!==d&&"("!==d&&")"!==d&&"."!==d||(f=!0);return this._syncInputSizeForPart(a),h&&this.$el.trigger("change"),f&&(0,e.default)(n).nextAll(m).first().focus(),this}},{key:"_shouldMoveToNextFieldAfterInput",value:function(e,t,n){return e.begin===t.length&&(n.type===r.TEXT?u(n.options,t,!1,!0,!1)===t:(n.length||n.maxLength||0)>0&&t.length===(n.length||n.maxLength))}},{key:"_validateContent",value:function(e,t){if(t.validator){if(t.validator instanceof RegExp)return t.validator.test(e);var n=t.validator.call(this,e,t);return null==n&&(n=!1),n}var i=Math.max(t.length||0,t.maxLength||0);if(t.type===r.NUMBER){if(e=(e=t.wholeNumber?e.replace(/[^-0-9]/g,""):e.replace(/[^-0-9.]/g,"")).replace(/^.+-/g,"-").replace(/\..*\./g,"."),i>0&&e.length>i&&(e=e.substr(0,i)),"number"==typeof t.numericMin||"number"==typeof t.numericMax){var a=parseFloat(e);isNaN(a)||(a=Math.max(Math.min(a,"number"==typeof t.numericMax?t.numericMax:1/0),"number"==typeof t.numericMin?t.numericMin:-1/0))!==parseFloat(e)&&(e=a+"")}return e||!1}if(t.type===r.TEXT){if(t.options){var l=u(t.options,e,!0,!1,!1);return void 0!==l&&l}return 0===i||e.length<=i}return!1}},{key:"resize",value:function(){var e=this;return(this.p.parsed||[]).forEach(function(t){return e._syncInputSizeForPart(t)}),this}},{key:"field",value:function(t){var n=this.p.inputs[t];if(n)return e.default.isArray(n)?n.slice(0):n}},{key:"_valuePattern",value:function(){var e=this.p,t="";return e.parsed.forEach(function(e){var n="",i=e.maxLength?Math.max(1,Math.min(e.length||0,e.maxLength||1)):e.length||1,a=Math.max(e.length||0,e.maxLength||0);if(e.type===r.TEXT)if(e.options)for(var l=0;l<e.options.length;l++)l>0&&(n+="|"),n+=s(e.options[l]);else n+=a?".{0,"+a+"}":".*?";else e.type===r.NUMBER?e.wholeNumber?e.length>0?(n+="[-+][0-9]{"+(i-1)+","+(a-1)+"}",n+="|[0-9]{"+i+","+a+"}"):n+="[-+]?[0-9]+":a?(n+="[-+][0-9.]{"+(i-1)+","+(a-1)+"}",n+="|[0-9.]{"+i+","+a+"}"):n+="[-+]?(?:[0-9]+(?:.[0-9]+)?|.[0-9]+)":n+=s(null==e.text?"":e.text+"");t+="("+n+")",void 0===e.required||e.required||(t+="?")}),"^"+t+"$"}},{key:"_fieldValue",value:function(t,n){var i=(0,e.default)(t);if(i.length){t=i[0];var a,l=i.data("part");if(void 0===n){var o=t.value;if(l.type===r.TEXT&&l.options)return u(l.options,o,!0,!0,!1);var s=Math.max(l.length||0,l.maxLength||0);if(s>0&&o.length>s&&(o=o.substr(0,s)),!1===(a=this._validateContent(o,l)))return;return!0!==a&&(o=a+""),o}n=null==n?"":n+"",!1===(a=this._validateContent(n,l))?a="":!0===a&&(a=n),t.value=a,this._syncInputSizeForPart(l)}}},{key:"fieldValue",value:function(e,t){var n=this.p.inputs[e];if(n)return void 0===t?this._fieldValue(n):(this._fieldValue(n,t),this)}},{key:"option",value:function(n,i){var r=this.o;if(2!==arguments.length)return r[n];"patterns"===n?(r[n]={},t.patternAddons.forEach(function(t){r[n]=e.default.extend(r[n],t)}),r[n]=e.default.extend(r[n],i)):r[n]=i}},{key:"_fieldOption",value:function(e,t,n){var r=this,a=this.p;if(!e)return 3===arguments.length?this:void 0;if(3!==arguments.length&&"object"!==i(t)){if(Array.isArray(t)){var l={};return t.forEach(function(t){l[t]=e[t]}),l}return e[t]}return"object"===i(t)?(Object.keys(t).forEach(function(n){r._fieldOption(e,n,t[n])}),this):("name"===t&&e.name!==n&&(parseInt(e.name,10).toString()!==e.name&&a.inputs[e.name]&&(a.inputs[e.name]instanceof HTMLElement?delete a.inputs[e.name]:(a.inputs[e.name].splice(a.inputs[e.name].indexOf(e),1),1===a.inputs[e.name].length&&(a.inputs[e.name]=a.inputs[e.name][0]))),n&&parseInt(n,10).toString()!==n&&(a.inputs[n]&&a.inputs[n]instanceof HTMLElement?a.inputs[n]=[a.inputs[n],e]:a.inputs[n]=e)),"el"!==t&&"$el"!==t&&(e[t]=n),!e.el||"length"!==t&&"name"!==t&&"ariaLabel"!==t&&"placeholder"!==t||this._renderInput(e,e.el),this)}},{key:"fieldOption",value:function(t,n,r){var a=this,l=this.p,o=l.inputs[t];return o?o.length>1?3===arguments.length||"object"===i(n)?(o.forEach(function(t){a._fieldOption((0,e.default)(t).data("part"),n,r)}),delete l.valueRegex,this):o.map(function(t){return a._fieldOption((0,e.default)(t).data("part"),n)}):3===arguments.length?(this._fieldOption((0,e.default)(o).data("part"),n,r),delete l.valueRegex,this):this._fieldOption((0,e.default)(o).data("part"),n):this}},{key:"value",value:function(e){var t,n,i,a=this.p;if(void 0===e){var l="";for(t=0;t<a.parsed.length;t++)if((n=a.parsed[t]).type===r.TEXT){if(i=this._fieldValue(n.el),n.postProcess&&(i=n.postProcess.call(this,i,n)+""),void 0===i){if(void 0===n.required||n.required)return;i=n.defaultValue||""}l+=void 0===i?"":i}else if(n.type===r.NUMBER){if(i=this._fieldValue(n.el),void 0===i){if(void 0===n.required||n.required)return;i=n.defaultValue||""}if(n.postProcess)if(i=n.postProcess.call(this,i,n),void 0===i){if(void 0===n.required||n.required)return;i=n.defaultValue||""}else i+="";var u=n.maxLength?Math.max(0,Math.min(n.length||0,n.maxLength||0)):n.length||0;Math.max(n.length||0,n.maxLength||0);if(n.padding||void 0===n.padding){var s="number"==typeof n.padding&&n.padding||u;if(s>0&&i.length<s){for(var h=0;h<i.length;h++)if(/[0-9.]/.test(i[h])){i=i.substr(0,h)+o("0",s-i.length)+i.substr(h);break}i.length<s&&(i=o("0",s-i.length)+i)}}l+=void 0===i?"":i}else l+=n.text;return l}a.valueRegex||(a.valueRegex=new RegExp(this._valuePattern(),"i"));for(var f=e.match(a.valueRegex)||[],d=1,p=0;d<f.length&&p<a.parsed.length;d++,p++)n=a.parsed[p],i=f[d]||"",n.type!==r.LABEL&&this._fieldValue(n.el,i);if(!f.length&&(""===e||null===e))for(t=0;t<a.parsed.length;t++)(n=a.parsed[t]).type!==r.LABEL&&this._fieldValue(n.el,"");return this}},{key:"enable",value:function(e){return e=!!e||void 0===e,this.p.enabled=e,this.$el.attr("disabled",!e||null),this.$el.find("input").prop("disabled",!e),this}},{key:"disable",value:function(e){return e=!!e||void 0===e,this.enable(!e)}},{key:"val",get:function(){return this.value}},{key:"isEnabled",get:function(){return this.p.enabled},set:function(e){this.enable(e)}},{key:"isDisabled",get:function(){return!this.p.enabled},set:function(e){this.disable(e)}}])&&n(p.prototype,g),y&&n(p,y),t}(),b=new RegExp("(0+(?::[a-zA-Z0-9_]+)?)|(#+(?::[a-zA-Z0-9_]+)?)|((?:@+|\\*)(?::[a-zA-Z0-9_]+)?)|(\"[^\"]*\"|'[^']*')","g");return y.PartType=r,y.patternAddons=[],y.defaults={patterns:{}},y});